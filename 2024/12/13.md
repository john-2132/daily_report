## 取り組んだ課題一覧

- Everyday Rails

## わかったこと

* 簡潔なものはより簡潔に書く
  * `it`はRubyのメソッドであり、ブロックを受け取る
  * 簡潔なテストケースであれば、RSpecが提供する`is_expected`を使ってワンライナーで書く
* モックとスタブ
  * モックはDBへアクセスしない
  * スタブは主にDBやネットワークを使う処理が対象
  * テスト対象のモデルが、外部の実装の詳細から独立できる
  * データベース呼び出しを取り除くことができる
  * 検証機能付きのテストダブルを使うこと
  * いらずらにスタブ化をしすぎると、重要な機能のテストを何もしていないテストになってしまう
* タグ
  * 機能追加時など、一部テストのみ実行したい場合にタグを付け、実行時に指定することで対象を絞る
* 普段使用しないテストだが、残しておきたいというシーンでは`skip`を使うことで、実行時に表示されるため忘れにくい 
* テストを並列実行することで、実行時間を短縮する
* ファイルアップロードのテスト
  * Capybaraの提供する`attach_file`メソッドを使用する
  * 指定の保存先へ、テストの度に溜まっていくことになるので、rails_helper.rbにテスト終了時、ファイルが削除されるよう設定する
  * また、バージョン管理システムなどで保存先がアップロードされてしまわぬよう、除外設定を行う

## 次やること

- Everyday Rails

## 感じたこと

- 演習に、`shoulda-matchers`gemのメソッドについて読んでみるというものがあるが、初見だと結構ややこしく見えた。(`validates_presence_of`について読んでみた）
- が、改めて一個一個見ていくとそこまで複雑なことはしておらず、各メソッドは簡潔に書かれており、自分もこのように書けるようになりたいと思わされた。

## 学習時間

Today:3h
Total:977h
